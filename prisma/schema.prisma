generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model AdminUser {
  uid         String       @id @default(uuid())
  firstname   String
  lastname    String
  phoneNumber String
  password    String
  address     String
  accessLevel String?      @default("regular")
  areaAccess  Int[]
  expire      String?      @default("none")
  platform    String?      @default("portal")
  DeviceLogs  DeviceLogs[]
  Survey      Survey[]
}

model Users {
  uid                  String                 @id @default(uuid())
  password             String
  privilege            Int[]                  @default([1, 2, 3, 4, 5, 6, 7, 8, 9])
  purpose              Int                    @default(1234)
  role                 Int                    @default(2)
  timstamp             DateTime               @default(now())
  userQRCodeId         String?                @unique
  username             String
  status               Int                    @default(1)
  forMunicipal         Int?
  AccountHandleTeam    AccountHandleTeam[]
  AccountValidateTean  AccountValidateTeam[]
  Appointments         Appointments[]
  DeviceLogs           DeviceLogs[]
  notificationsSent    Notification[]         @relation("SenderRelation")
  notificationsTarget  Notification[]         @relation("TargetRelation")
  respondentResponse   RespondentResponse[]
  SurveyResponse       SurveyResponse[]
  TeamDistributions    TeamDistributions[]
  TeamLeaderAttendance TeamLeaderAttendance[]
  TeamRecords          TeamRecords[]
  UntrackedVoter       UntrackedVoter[]
  activityLogs         UserActivityLogs[]
  UserResport          UserReport[]
  qrCode               UserQRCode?            @relation(fields: [userQRCodeId], references: [id], onDelete: Cascade)
  validatedTeam        ValidatedTeams[]
  ValidationNotes      ValidationNotes[]
  ValidationTimeInput  ValidationTimeInput[]
  VoterRecords         VoterRecords[]
}

model UserQRCode {
  id     String @id @default(uuid())
  qrCode String
  Users  Users?
}

model Notification {
  uid       String   @id @default(uuid())
  fromUid   String
  targetUid String
  viewed    Boolean  @default(false)
  path      String?
  title     String
  message   String
  timestamp DateTime @default(now())
  from      Users    @relation("SenderRelation", fields: [fromUid], references: [uid], onDelete: Cascade)
  target    Users    @relation("TargetRelation", fields: [targetUid], references: [uid])
}

model UserActivityLogs {
  id        String   @id @default(uuid())
  activity  String?  @default("None")
  timestamp DateTime @default(now())
  usersUid  String?
  method    Int
  Users     Users?   @relation(fields: [usersUid], references: [uid], onDelete: Cascade)
}

model Position {
  id         String       @id @default(uuid())
  title      String
  Candidates Candidates[]
}

model Validation {
  id           String     @id @default(uuid())
  timestamp    DateTime   @default(now())
  percent      Float
  totalVoters  Int
  municipalsId Int
  barangaysId  String
  barangay     Barangays  @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  municiapal   Municipals @relation(fields: [municipalsId], references: [id])
}

model Candidates {
  id               String          @id @default(uuid())
  lastname         String
  firstname        String
  candidateBatchId String?
  code             String?
  desc             String?
  mediaUrlId       String?
  positionId       String?
  colorCode        String?         @default("#ffffff")
  municipalsId     Int?
  BarangayCoor     BarangayCoor[]
  CandidateBatch   CandidateBatch? @relation(fields: [candidateBatchId], references: [id], onDelete: Cascade)
  image            MediaUrl?       @relation(fields: [mediaUrlId], references: [id])
  municipal        Municipals?     @relation(fields: [municipalsId], references: [id])
  position         Position?       @relation(fields: [positionId], references: [id])
  PurokCoor        PurokCoor[]
  Team             Team[]
  TeamLeader       TeamLeader[]
  supporters       Voters[]
}

model CandidateBatch {
  id         String       @id @default(uuid())
  timestamp  DateTime     @default(now())
  waveId     Int?
  year       Int?
  waveID     Wave?        @relation(fields: [waveId], references: [id], onDelete: Cascade)
  candidates Candidates[]
}

model Wave {
  id             Int              @id @default(autoincrement())
  timestamp      DateTime         @default(now())
  CandidateBatch CandidateBatch[]
}

model Voters {
  lastname               String
  firstname              String
  status                 Int                      @default(1)
  level                  Int                      @default(0)
  barangaysId            String
  municipalsId           Int
  houseHoldId            String?
  mobileNumber           String?                  @default("Unknown")
  newBatchDraftId        String?
  precintsId             String?
  purokId                String?
  saveStatus             String                   @default("drafted")
  calcAge                Int
  id                     String                   @id @default(uuid())
  birthYear              String
  illi                   String?
  inc                    String?
  oor                    String?
  pwd                    String?
  inPurok                Boolean?
  hubId                  String?
  qrCode                 String?                  @default("None")
  candidatesId           String?
  senior                 Boolean?
  youth                  Boolean?
  gender                 String?                  @default("Unknown")
  teamId                 String?
  qrCodeNumber           Int?                     @default(0)
  idNumber               String?                  @default("none")
  witnessId              String?
  timestamp              DateTime                 @default(now())
  Appointments           Appointments[]
  BarangayCoor           BarangayCoor[]
  WhiteList              BlackList[]
  DelistedVoter          DelistedVoter[]
  DelistedVoterValidated DelistedVoterValidated[]
  DuplicateteamMebers    DuplicateteamMembers[]
  PurokCoor              PurokCoor[]
  QRcode                 QRcode[]
  TeamJoinDate           TeamJoinDate[]
  TeamLeader             TeamLeader[]
  TeamMembersTransac     TeamMembersTransac[]
  UntrackedVoter         UntrackedVoter[]
  ValdilatedMembers      ValdilatedMembers[]
  ValidatedTeamMembers   ValidatedTeamMembers[]
  VotersToUpdate         ValidationResult[]
  VoterRecords           VoterRecords[]
  barangay               Barangays                @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  Candidates             Candidates?              @relation(fields: [candidatesId], references: [id])
  houseHold              HouseHold?               @relation(fields: [houseHoldId], references: [id])
  hubID                  Hub?                     @relation(fields: [hubId], references: [id])
  municipal              Municipals               @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  batchDraft             NewBatchDraft?           @relation(fields: [newBatchDraftId], references: [id], onDelete: Cascade)
  precent                Precents?                @relation(fields: [precintsId], references: [id], onDelete: Cascade)
  purok                  Purok?                   @relation(fields: [purokId], references: [id], onDelete: Cascade)
  Team                   Team?                    @relation(fields: [teamId], references: [id])
  Witness                Witness?
}

model Purok {
  id                   String                 @id @default(cuid())
  purokNumber          String
  barangaysId          String
  municipalsId         Int
  draftID              String
  Appointments         Appointments[]
  houseHolds           HouseHold[]
  barangay             Barangays              @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  municipal            Municipals             @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  PurokCoor            PurokCoor[]
  TeamLeaderBridge     Team[]
  TeamLeader           TeamLeader[]
  ValidatedTeamMembers ValidatedTeamMembers[]
  ValidatedTeams       ValidatedTeams[]
  voters               Voters[]
}

model Municipals {
  id                   Int                    @id
  name                 String
  AccountHandleTeam    AccountHandleTeam[]
  AccountValidateTean  AccountValidateTeam[]
  Appointments         Appointments[]
  BarangayCoor         BarangayCoor[]
  barangays            Barangays[]
  WhiteList            BlackList[]
  Candidates           Candidates[]
  DelistedVoter        DelistedVoter[]
  DuplicateteamMembers DuplicateteamMembers[]
  HouseHold            HouseHold[]
  Hub                  Hub[]
  NewBatchDraft        NewBatchDraft[]
  Precents             Precents[]
  Purok                Purok[]
  PurokCoor            PurokCoor[]
  RespondentResponse   RespondentResponse[]
  Response             Response[]
  SurveyResponse       SurveyResponse[]
  TeamLeaderBridge     Team[]
  TeamLeader           TeamLeader[]
  TeamRecordsLogs      TeamRecordsLogs[]
  UntrackedVoter       UntrackedVoter[]
  ValidatedTeamMembers ValidatedTeamMembers[]
  ValidatedTeams       ValidatedTeams[]
  Validated            Validation[]
  ValidationResult     ValidationResult[]
  ValidationTimeInput  ValidationTimeInput[]
  voters               Voters[]
}

model Barangays {
  id                   String                 @id @default(uuid())
  name                 String
  municipalId          Int
  population           Int?                   @default(0)
  sampleRate           Int?                   @default(10)
  sampleSize           Int?                   @default(0)
  surveyor             Int?                   @default(0)
  activeSurveyor       Int?                   @default(0)
  femaleSize           Int?                   @default(0)
  maleSize             Int?                   @default(0)
  number               Int                    @default(autoincrement())
  AccountHandleTeam    AccountHandleTeam[]
  AccountValidateTean  AccountValidateTeam[]
  Appointments         Appointments[]
  BarangayCoor         BarangayCoor[]
  municipal            Municipals             @relation(fields: [municipalId], references: [id], onDelete: Cascade)
  WhiteList            BlackList[]
  DelistedVoter        DelistedVoter[]
  DuplicateteamMembers DuplicateteamMembers[]
  HouseHold            HouseHold[]
  Hub                  Hub[]
  NewBatchDraft        NewBatchDraft[]
  precents             Precents[]
  Purok                Purok[]
  PurokCoor            PurokCoor[]
  Quota                Quota[]
  RespondentResponse   RespondentResponse[]
  Response             Response[]
  SurveyResponse       SurveyResponse[]
  TeamLeaderBridge     Team[]
  TeamLeader           TeamLeader[]
  TeamRecordsLogs      TeamRecordsLogs[]
  UntrackedVoter       UntrackedVoter[]
  ValidatedTeamMembers ValidatedTeamMembers[]
  ValidatedTeams       ValidatedTeams[]
  Validated            Validation[]
  ValidationResult     ValidationResult[]
  ValidationTimeInput  ValidationTimeInput[]
  voters               Voters[]
}

model HouseHold {
  id              String     @id
  houseHoldNumber String
  barangaysId     String
  municipalsId    Int
  purokId         String?
  barangayId      Barangays  @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  municipalId     Municipals @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  purokID         Purok?     @relation(fields: [purokId], references: [id], onDelete: Cascade)
  Voters          Voters[]
}

model Hub {
  id           String     @id @default(cuid())
  barangaysId  String
  municipalsId Int
  teamLeaderId String
  info         String
  barangayID   Barangays  @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  municipalId  Municipals @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  teamLeader   TeamLeader @relation(fields: [teamLeaderId], references: [id])
  Team         Team[]
  Voters       Voters[]
}

model Precents {
  id            String     @id
  barangayId    String
  municipalsId  Int
  precintNumber String
  barangay      Barangays  @relation(fields: [barangayId], references: [id], onDelete: Cascade)
  municipal     Municipals @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  Voters        Voters[]
}

model NewBatchDraft {
  id          String      @id @default(uuid())
  municipalId Int?
  barangayId  String
  timestamp   DateTime    @default(now())
  drafted     Boolean?    @default(true)
  barangay    Barangays   @relation(fields: [barangayId], references: [id], onDelete: Cascade)
  Municipals  Municipals? @relation(fields: [municipalId], references: [id], onDelete: Cascade)
  Voters      Voters[]
}

model CutstomList {
  id          String   @id @default(uuid())
  name        String
  wave        String
  municipalId Int
  barangayId  String
  timestamp   DateTime @default(now())
}

model Team {
  id                   String                 @id @default(uuid())
  teamLeaderId         String?
  purokId              String?
  barangaysId          String
  municipalsId         Int
  hubId                String?
  candidatesId         String?
  level                Int                    @default(1)
  timestamp            DateTime?              @default(now())
  AccountHandleTeam    AccountHandleTeam[]
  AccountValidateTean  AccountValidateTeam[]
  appointments         Appointments[]
  DuplicateteamMebers  DuplicateteamMembers[] @relation("TeamFoundIn")
  DuplicateteamMembers DuplicateteamMembers[]
  barangay             Barangays              @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  candidate            Candidates?            @relation(fields: [candidatesId], references: [id])
  hub                  Hub?                   @relation(fields: [hubId], references: [id])
  municipal            Municipals             @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  purok                Purok?                 @relation(fields: [purokId], references: [id], onDelete: Cascade)
  TeamLeader           TeamLeader?            @relation(fields: [teamLeaderId], references: [id])
  TeamDistributions    TeamDistributions[]
  TeamJoinDate         TeamJoinDate[]
  TeamRecords          TeamRecords[]
  TeamRecordsLogs      TeamRecordsLogs[]
  TeamUpdateAchive     TeamUpdateArchive[]
  UntrackedVoter       UntrackedVoter[]
  ValdilatedMembers    ValdilatedMembers[]
  VotersToUpdate       ValidationResult[]
  ValidationTimeInput  ValidationTimeInput[]
  voters               Voters[]
}

model TeamJoinDate {
  id        String   @id @default(cuid())
  votersId  String?
  teamId    String?
  timestamp DateTime @default(now())
  method    Int?     @default(1)
  team      Team?    @relation(fields: [teamId], references: [id])
  voter     Voters?  @relation(fields: [votersId], references: [id])
}

model TeamLeader {
  id                   String                 @id @default(cuid())
  hubId                String
  purokCoorId          String?
  voterId              String?
  barangaysId          String
  municipalsId         Int
  votersId             String?
  handle               Int?                   @default(0)
  purokId              String
  candidatesId         String?
  level                Int                    @default(1)
  teamId               String?                @default("None")
  barangayCoorId       String?
  purokCoorsId         String?
  teamLeaderId         String?
  teamlLeaderQRcodesId String?                @unique
  Hub                  Hub[]
  team                 Team[]
  barangayCoor         TeamLeader?            @relation("BarangayCoor", fields: [barangayCoorId], references: [id])
  barangayCoorFor      TeamLeader[]           @relation("BarangayCoor")
  barangay             Barangays              @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  candidate            Candidates?            @relation(fields: [candidatesId], references: [id])
  municipal            Municipals             @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  purokCoor            PurokCoor?             @relation(fields: [purokCoorId], references: [id])
  purokCoors           TeamLeader?            @relation("PurokCoors", fields: [purokCoorsId], references: [id])
  purokCoorFor         TeamLeader[]           @relation("PurokCoors")
  purok                Purok                  @relation(fields: [purokId], references: [id])
  teamLeader           TeamLeader?            @relation("TeamLeader", fields: [teamLeaderId], references: [id])
  teamLeaderFor        TeamLeader[]           @relation("TeamLeader")
  qrCode               TeamlLeaderQRcodes?    @relation(fields: [teamlLeaderQRcodesId], references: [id], onDelete: Cascade)
  voter                Voters?                @relation(fields: [votersId], references: [id])
  TeamLeaderAttendance TeamLeaderAttendance[]
  ValidatedTeamMembers ValidatedTeamMembers[]
  ValidatedTeams       ValidatedTeams[]
}

model TeamlLeaderQRcodes {
  id         String      @id @default(uuid())
  qrCode     String
  TeamLeader TeamLeader?
}

model TeamLeaderAttendance {
  id           String     @id @default(uuid())
  for          Int        @default(1)
  teamLeaderId String
  date         DateTime
  status       String
  usersUid     String?
  teamLeader   TeamLeader @relation(fields: [teamLeaderId], references: [id])
  user         Users?     @relation(fields: [usersUid], references: [uid])
}

model ValidatedTeams {
  id                   String                 @id @default(uuid())
  teamLeaderId         String?
  barangaysId          String
  municipalsId         Int
  purokId              String?
  timestamp            DateTime               @default(now())
  issues               Int?                   @default(0)
  usersUid             String?
  validatedTeamMembers ValidatedTeamMembers[]
  barangay             Barangays              @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  municipal            Municipals             @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  purok                Purok?                 @relation(fields: [purokId], references: [id], onDelete: Cascade)
  teamLeader           TeamLeader?            @relation(fields: [teamLeaderId], references: [id])
  Users                Users?                 @relation(fields: [usersUid], references: [uid])
}

model ValidatedTeamMembers {
  id               String          @id @default(uuid())
  idNumber         String
  votersId         String?
  barangayId       String
  municipalsId     Int?
  purokId          String
  teamLeaderId     String?
  validatedTeamsId String?
  remark           String?         @default("OK")
  barangay         Barangays       @relation(fields: [barangayId], references: [id], onDelete: Cascade)
  municipal        Municipals?     @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  purok            Purok           @relation(fields: [purokId], references: [id])
  teamLeader       TeamLeader?     @relation(fields: [teamLeaderId], references: [id])
  ValidatedTeams   ValidatedTeams? @relation(fields: [validatedTeamsId], references: [id], onDelete: Cascade)
  voter            Voters?         @relation(fields: [votersId], references: [id])
}

model PurokCoor {
  id             String        @id @default(cuid())
  municipalsId   Int
  barangaysId    String
  barangayCoorId String?
  votersId       String
  handle         Int           @default(0)
  purokId        String
  candidatesId   String?
  barangayCoor   BarangayCoor? @relation(fields: [barangayCoorId], references: [id])
  barangayId     Barangays     @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  candidate      Candidates?   @relation(fields: [candidatesId], references: [id])
  municipalId    Municipals    @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  purok          Purok         @relation(fields: [purokId], references: [id])
  voter          Voters        @relation(fields: [votersId], references: [id], onDelete: Cascade)
  TeamLeader     TeamLeader[]
}

model BlackList {
  id           String     @id @default(uuid())
  timestamp    DateTime   @default(now())
  municipalsId Int
  barangaysId  String
  votersId     String
  barangay     Barangays  @relation(fields: [barangaysId], references: [id])
  municipal    Municipals @relation(fields: [municipalsId], references: [id])
  voter        Voters     @relation(fields: [votersId], references: [id])
}

model BarangayCoor {
  id           String      @id @default(cuid())
  municipalsId Int
  barangaysId  String
  votersId     String
  candidatesId String?
  barangayID   Barangays   @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  candidate    Candidates? @relation(fields: [candidatesId], references: [id])
  municipalID  Municipals  @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  voter        Voters      @relation(fields: [votersId], references: [id], onDelete: Cascade)
  purokCoor    PurokCoor[]
}

model QRcode {
  id              String   @id @default(uuid())
  timestamp       DateTime @default(now())
  votersId        String
  stamp           Int
  number          Int      @default(autoincrement())
  scannedDateTime String?  @default("N/A")
  qrCode          String
  voterNumber     String?
  voter           Voters   @relation(fields: [votersId], references: [id], onDelete: Cascade)
}

model SurveyorNumber {
  id                String              @id @default(uuid())
  password          String
  role              Int
  username          String
  ValidatedResponse ValidatedResponse[]
}

model Survey {
  id                 String               @id @default(cuid())
  tagID              String
  timestamp          DateTime             @default(now())
  type               String
  drafted            Boolean?             @default(true)
  status             String?              @default("Ongoing")
  adminUserUid       String
  name               String               @default("Title_")
  DeviceLogs         DeviceLogs[]
  images             MediaUrl[]
  queries            Queries[]
  RespondentResponse RespondentResponse[]
  Response           Response[]
  createdBy          AdminUser            @relation(fields: [adminUserUid], references: [uid], onDelete: Cascade)
  SurveyResponse     SurveyResponse[]
  ValidatedResponse  ValidatedResponse[]
}

model SampleSize {
  id   String @id @default(cuid())
  size Int
  rate Int
}

model DefaultQuery {
  id        String @id @default(cuid())
  queriesId String
}

model AgeBracket {
  id                 String               @id @default(cuid())
  segment            String
  order              Int                  @default(autoincrement())
  Quota              Quota[]
  RespondentResponse RespondentResponse[]
  Response           Response[]
}

model Gender {
  id                 String               @id @default(cuid())
  name               String
  GenderSize         GenderSize[]
  GenderTotal        GenderTotal[]
  RespondentResponse RespondentResponse[]
  Response           Response[]
}

model GenderTotal {
  id       String @id @default(cuid())
  total    Int?   @default(0)
  genderId String
  gender   Gender @relation(fields: [genderId], references: [id], onDelete: Cascade)
}

model GenderSize {
  id       String  @id @default(cuid())
  genderId String
  size     Int
  quotaId  String?
  gender   Gender  @relation(fields: [genderId], references: [id], onDelete: Cascade)
  Quota    Quota?  @relation(fields: [quotaId], references: [id], onDelete: Cascade)
}

model Quota {
  id             String       @id @default(uuid())
  barangaysId    String
  ageBracketId   String
  activeSurveyor Int?         @default(0)
  gendersSize    GenderSize[]
  age            AgeBracket   @relation(fields: [ageBracketId], references: [id], onDelete: Cascade)
  barangay       Barangays    @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
}

model Queries {
  id               String         @id @default(uuid())
  queries          String
  surveyId         String
  type             String?        @default("single")
  componentType    String?        @default("regular")
  order            Int            @default(autoincrement())
  onTop            Boolean?       @default(false)
  access           String?        @default("regular")
  responseType     String?        @default("multiple")
  selectionType    String?        @default("select")
  style            Int?           @default(1)
  withCustomOption Boolean?       @default(false)
  customOption     CustomOption[]
  Option           Option[]
  survey           Survey         @relation(fields: [surveyId], references: [id], onDelete: Cascade)
  QueryAnswer      QueryAnswer[]
  Response         Response[]
}

model CustomOption {
  id                   String              @id @default(cuid())
  value                String
  queriesId            String?
  respondentResponseId String?
  Queries              Queries?            @relation(fields: [queriesId], references: [id])
  RespondentResponse   RespondentResponse? @relation(fields: [respondentResponseId], references: [id])
  QueryAnswer          QueryAnswer[]
  Response             Response[]
}

model Option {
  id           String        @id @default(cuid())
  title        String?
  desc         String?
  mediaUrlId   String?
  queryId      String
  order        Int           @default(autoincrement())
  onExit       Boolean       @default(false)
  onTop        Boolean?      @default(false)
  inlcuded     Boolean?      @default(false)
  forAll       Boolean?      @default(false)
  customizable Boolean?      @default(false)
  MediaUrl     MediaUrl[]
  queries      Queries       @relation(fields: [queryId], references: [id], onDelete: Cascade)
  QueryAnswer  QueryAnswer[]
  Response     Response[]
}

model MediaUrl {
  id                 String               @id @default(uuid())
  url                String
  filename           String?
  size               String
  surveyId           String?
  optionId           String?
  Candidates         Candidates[]
  option             Option?              @relation(fields: [optionId], references: [id], onDelete: Cascade)
  Survey             Survey?              @relation(fields: [surveyId], references: [id], onDelete: Cascade)
  RespondentResponse RespondentResponse[]
}

model SurveyResponse {
  id                 String               @id
  timestamp          DateTime             @default(now())
  usersUid           String?
  municipalsId       Int
  barangaysId        String
  surveyId           String
  RespondentResponse RespondentResponse[]
  Response           Response[]
  barangay           Barangays            @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  municipal          Municipals           @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  survey             Survey               @relation(fields: [surveyId], references: [id], onDelete: Cascade)
  Users              Users?               @relation(fields: [usersUid], references: [uid], onDelete: Cascade)
}

model RespondentResponse {
  id                  String             @id
  ageBracketId        String
  genderId            String
  municipalsId        Int
  barangaysId         String
  surveyId            String
  surveyResponseId    String
  mediaUrlId          String?
  valid               Boolean            @default(true)
  validatedResponseId String?
  usersUid            String?
  customeOption       CustomOption[]
  age                 AgeBracket         @relation(fields: [ageBracketId], references: [id], onDelete: Cascade)
  barangay            Barangays          @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  gender              Gender             @relation(fields: [genderId], references: [id], onDelete: Cascade)
  media               MediaUrl?          @relation(fields: [mediaUrlId], references: [id])
  municipal           Municipals         @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  survey              Survey             @relation(fields: [surveyId], references: [id], onDelete: Cascade)
  surveyResponse      SurveyResponse     @relation(fields: [surveyResponseId], references: [id], onDelete: Cascade)
  Users               Users?             @relation(fields: [usersUid], references: [uid])
  ValidatedResponse   ValidatedResponse? @relation(fields: [validatedResponseId], references: [id])
  Response            Response[]
}

model ValidatedResponse {
  id                 String               @id
  surveyId           String
  surveyorNumberId   String
  timestamp          DateTime             @default(now())
  respondentResponse RespondentResponse[]
  survey             Survey               @relation(fields: [surveyId], references: [id])
  surveyor           SurveyorNumber       @relation(fields: [surveyorNumberId], references: [id])
}

model Response {
  id                   String             @id
  queryId              String
  barangaysId          String
  optionId             String?
  ageBracketId         String
  genderId             String
  municipalsId         Int
  surveyId             String
  respondentResponseId String
  surveyResponseId     String
  customOptionId       String?
  QueryAnswer          QueryAnswer[]
  ageBracket           AgeBracket         @relation(fields: [ageBracketId], references: [id], onDelete: Cascade)
  barangay             Barangays          @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  customOption         CustomOption?      @relation(fields: [customOptionId], references: [id])
  gender               Gender             @relation(fields: [genderId], references: [id], onDelete: Cascade)
  municipal            Municipals         @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  option               Option?            @relation(fields: [optionId], references: [id], onDelete: Cascade)
  queries              Queries            @relation(fields: [queryId], references: [id], onDelete: Cascade)
  respondentResponse   RespondentResponse @relation(fields: [respondentResponseId], references: [id], onDelete: Cascade)
  survey               Survey             @relation(fields: [surveyId], references: [id], onDelete: Cascade)
  surveyResponse       SurveyResponse     @relation(fields: [surveyResponseId], references: [id], onDelete: Cascade)
}

model QueryAnswer {
  id             String        @id
  queriesId      String
  optionId       String
  responseId     String
  customOptionId String?
  customOption   CustomOption? @relation(fields: [customOptionId], references: [id])
  option         Option        @relation(fields: [optionId], references: [id], onDelete: Cascade)
  query          Queries       @relation(fields: [queriesId], references: [id], onDelete: Cascade)
  response       Response      @relation(fields: [responseId], references: [id], onDelete: Cascade)
}

model DeviceLogs {
  id           String    @id @default(cuid())
  release      String    @default("-/-")
  return       String    @default("-/-")
  usersUid     String
  condition    String    @default("New")
  adminUserUid String
  surveyId     String
  handTo       AdminUser @relation(fields: [adminUserUid], references: [uid], onDelete: Cascade)
  survey       Survey    @relation(fields: [surveyId], references: [id], onDelete: Cascade)
  user         Users     @relation(fields: [usersUid], references: [uid], onDelete: Cascade)
}

model TeamRecordsLogs {
  id           String     @id @default(uuid())
  timstamp     DateTime   @default(now())
  value        Int?
  municipalsId Int
  barangaysId  String
  teamId       String
  method       Int        @default(1)
  barnagay     Barangays  @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  municipal    Municipals @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  team         Team       @relation(fields: [teamId], references: [id])
}

model TeamRecords {
  id        String    @id @default(uuid())
  activity  String
  timestamp DateTime?
  teamId    String
  usersUid  String?
  team      Team      @relation(fields: [teamId], references: [id], onDelete: Cascade)
  user      Users?    @relation(fields: [usersUid], references: [uid])
}

model TeamDistributions {
  id        String    @id @default(uuid())
  activity  String
  timestamp DateTime?
  status    Int?      @default(0)
  teamId    String
  usersUid  String?
  team      Team      @relation(fields: [teamId], references: [id], onDelete: Cascade)
  operator  Users?    @relation(fields: [usersUid], references: [uid])
  witness   Witness[]
}

model Witness {
  id                  String             @id
  votersId            String             @unique
  timstamp            DateTime
  teamDistributionsId String?
  TeamDistributions   TeamDistributions? @relation(fields: [teamDistributionsId], references: [id])
  voter               Voters             @relation(fields: [votersId], references: [id], onDelete: Cascade)
}

model VoterRecords {
  id           String   @id @default(uuid())
  desc         String
  questionable Boolean  @default(true)
  timestamp    DateTime @default(now())
  votersId     String?
  usersUid     String?
  type         Int?     @default(0)
  user         Users?   @relation(fields: [usersUid], references: [uid])
  voter        Voters?  @relation(fields: [votersId], references: [id], onDelete: Cascade)
}

model DuplicateteamMembers {
  id           String     @id @default(uuid())
  votersId     String?
  timstamp     DateTime   @default(now())
  teamId       String?
  foundTeamId  String?
  barangaysId  String
  municipalsId Int
  barangay     Barangays  @relation(fields: [barangaysId], references: [id])
  teamFounIn   Team?      @relation("TeamFoundIn", fields: [foundTeamId], references: [id])
  municpal     Municipals @relation(fields: [municipalsId], references: [id])
  team         Team?      @relation(fields: [teamId], references: [id])
  voter        Voters?    @relation(fields: [votersId], references: [id], onDelete: Cascade)
}

model DelistedVoter {
  id                       String                  @id @default(uuid())
  votersId                 String?
  timstamp                 DateTime                @default(now())
  municipalsId             Int
  barangaysId              String
  delistedVoterValidatedId String?
  barangay                 Barangays               @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  validated                DelistedVoterValidated? @relation(fields: [delistedVoterValidatedId], references: [id])
  municipal                Municipals              @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  voter                    Voters?                 @relation(fields: [votersId], references: [id], onDelete: Cascade)
}

model DelistedVoterValidated {
  id            String          @id @default(uuid())
  votersId      String
  timstamp      DateTime        @default(now())
  validated     Boolean         @default(false)
  DelistedVoter DelistedVoter[]
  voter         Voters          @relation(fields: [votersId], references: [id], onDelete: Cascade)
}

model UntrackedVoter {
  id           String      @id @default(uuid())
  note         String?
  votersId     String?
  teamId       String?
  usersUid     String?
  barangaysId  String?
  municipalsId Int?
  timestamp    DateTime    @default(now())
  barangay     Barangays?  @relation(fields: [barangaysId], references: [id])
  municpal     Municipals? @relation(fields: [municipalsId], references: [id])
  team         Team?       @relation(fields: [teamId], references: [id])
  user         Users?      @relation(fields: [usersUid], references: [uid])
  voter        Voters?     @relation(fields: [votersId], references: [id])
}

model Appointments {
  id           String     @id @default(uuid())
  appointment  String?
  activity     Int?       @default(0)
  timestamp    DateTime   @default(now())
  teamId       String?
  barangaysId  String
  municipalsId Int
  usersUid     String?
  purokId      String?
  data         String?
  votersId     String?
  barangay     Barangays  @relation(fields: [barangaysId], references: [id], onDelete: Cascade)
  municipal    Municipals @relation(fields: [municipalsId], references: [id], onDelete: Cascade)
  purok        Purok?     @relation(fields: [purokId], references: [id])
  team         Team?      @relation(fields: [teamId], references: [id], onDelete: Cascade)
  user         Users?     @relation(fields: [usersUid], references: [uid], onDelete: Cascade)
  voter        Voters?    @relation(fields: [votersId], references: [id])
}

model ValidationTimeInput {
  id           String      @id @default(uuid())
  minutes      Int?
  name         String?
  action       Int?
  usersUid     String?
  teamId       String?
  barangaysId  String?
  municipalsId Int?
  barangay     Barangays?  @relation(fields: [barangaysId], references: [id])
  municipal    Municipals? @relation(fields: [municipalsId], references: [id])
  team         Team?       @relation(fields: [teamId], references: [id], onDelete: Cascade)
  user         Users?      @relation(fields: [usersUid], references: [uid], onDelete: Cascade)
}

model ValidationNotes {
  id        String   @id @default(uuid())
  action    String?
  timestamp DateTime @default(now())
  title     String?
  desc      String?
  contact   String?
  usersUid  String?
  user      Users?   @relation(fields: [usersUid], references: [uid], onDelete: Cascade)
}

model AccountHandleTeam {
  id                    String               @id @default(uuid())
  usersUid              String?
  teamId                String?
  municipalsId          Int?
  barangaysId           String?
  accountValidateTeamId String?              @unique
  validated             AccountValidateTeam? @relation(fields: [accountValidateTeamId], references: [id])
  barangay              Barangays?           @relation(fields: [barangaysId], references: [id])
  municipal             Municipals?          @relation(fields: [municipalsId], references: [id])
  team                  Team?                @relation(fields: [teamId], references: [id], onDelete: Cascade)
  account               Users?               @relation(fields: [usersUid], references: [uid])
}

model AccountValidateTeam {
  id                String             @id @default(uuid())
  usersUid          String?
  teamId            String?
  municipalsId      Int?
  barangaysId       String?
  timstamp          DateTime?          @default(now())
  AccountHandleTeam AccountHandleTeam?
  barangay          Barangays?         @relation(fields: [barangaysId], references: [id])
  municipal         Municipals?        @relation(fields: [municipalsId], references: [id])
  team              Team?              @relation(fields: [teamId], references: [id], onDelete: Cascade)
  account           Users?             @relation(fields: [usersUid], references: [uid])
}

model ValdilatedMembers {
  id        String   @id @default(uuid())
  votersId  String?
  teamId    String?
  timestamp DateTime @default(now())
  team      Team?    @relation(fields: [teamId], references: [id])
  voterId   Voters?  @relation(fields: [votersId], references: [id])
}

model ValidationResult {
  id           String     @id @default(uuid())
  props        String?
  type         String?
  value        String?
  votersId     String?
  action       Int?
  count        Int?       @default(0)
  teamId       String?
  barangaysId  String
  municipalsId Int
  timestamp    DateTime   @default(now())
  barangay     Barangays  @relation(fields: [barangaysId], references: [id])
  municipal    Municipals @relation(fields: [municipalsId], references: [id])
  team         Team?      @relation(fields: [teamId], references: [id])
  voter        Voters?    @relation(fields: [votersId], references: [id])
}

model UserReport {
  id             String           @id @default(uuid())
  section        String?
  subject        String?
  message        String?
  usersUid       String?
  timestamp      DateTime?        @default(now())
  ReportFeedback ReportFeedback[]
  user           Users?           @relation(fields: [usersUid], references: [uid], onDelete: Cascade)
}

model ReportFeedback {
  id           String      @id @default(uuid())
  userReportId String?
  feedback     String?
  timestamp    DateTime?   @default(now())
  report       UserReport? @relation(fields: [userReportId], references: [id], onDelete: Cascade)
}

model TeamUpdateArchive {
  id            String               @id @default(uuid())
  desc          String?
  level         Int
  result        Int
  method        Int
  timestamp     DateTime?            @default(now())
  teamId        String?
  transacMember TeamMembersTransac[]
  team          Team?                @relation(fields: [teamId], references: [id], onDelete: Cascade)
}

model TeamMembersTransac {
  id                  String             @id @default(uuid())
  votersId            String
  timestamp           DateTime?          @default(now())
  teamUpdateArchiveId String?
  TeamUpdateArchive   TeamUpdateArchive? @relation(fields: [teamUpdateArchiveId], references: [id])
  voter               Voters             @relation(fields: [votersId], references: [id], onDelete: Cascade)
}
